<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RELSA Score • RELSA</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RELSA Score">
<meta property="og:description" content="RELSA">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RELSA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/relsa_score.html">RELSA Score</a>
    </li>
    <li>
      <a href="../articles/relsa_vignette.html">RELSA Vignette</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mytalbot/RELSA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RELSA Score</h1>
                        <h4 class="author">Steven R. Talbot</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mytalbot/RELSA/blob/master/vignettes/relsa_score.Rmd"><code>vignettes/relsa_score.Rmd</code></a></small>
      <div class="hidden name"><code>relsa_score.Rmd</code></div>

    </div>

    
    
<div id="relsa-relative-severity-assessment-relsa-score" class="section level2">
<h2 class="hasAnchor">
<a href="#relsa-relative-severity-assessment-relsa-score" class="anchor"></a>RELSA: Relative Severity Assessment (RELSA) Score</h2>
<p>The <code>relsa</code> function from the RELSA package allows the calculation of a (composite) score for relative severity assessment in individual animals using collections of experimental outcome variables or single parameters. The RELSA Vignette covers how to load, access and calculate RELSA scores in detail.</p>
<p>The purpose of this Vignette is to provide a better understanding of what RELSA is, how it is calculated and what it can be used for.</p>
<p>RELSA scores express severity in two ways:</p>
<ol style="list-style-type: decimal">
<li>The score provides a metric for direct comparison within a relative context.</li>
<li>Relative context is established by providing a reference model with assumed (biological) severity.</li>
</ol>
<p>There is a possible third option in which <em>k-means</em> clustering is be applied to the baseline model in order to obtain <em>k</em>-levels within the data range. This way, an unbiased subsetting of the calculated scores into classes is achieved (for further classification analysis, etc).</p>
<p>Thus, animals from different experimental backgrounds and conditions can be compared. However, it is important to note that the RELSA score is a reflection of what happens in the measured data. If the data, for some reason, do not reflect severity in animals the RELSA score might be unsuited for comparisons.</p>
</div>
<div id="relsa-calculation" class="section level2">
<h2 class="hasAnchor">
<a href="#relsa-calculation" class="anchor"></a>RELSA calculation</h2>
<p>This section explains how the RELSA score is calculated step by step. The <code>relsa</code> function accepts normalized data in the RELSA format. How these tables are built is explained in detail in the RELSA Vignette.</p>
<p>The function requires a reference model (bsl) for establishing a relative context within an animal model with “known” severity. This severity can be of qualitative nature as tested animals will always be compared to this model - thus the word “relative” in RELSA. With the <code>drop</code> object variables can be excluded from the current analysis. <code>turnvars</code> defines variables where measured values <em>in</em>crease rather than <em>de</em>crease when severity impacts the animal.</p>
<pre><code><a href="../reference/relsa.html"># RELSA function
relsa (set, bsl, a=1, drop=NULL, turnvars=NULL)</a></code></pre>
<div id="subsetting-of-the-normalized-test-data" class="section level3">
<h3 class="hasAnchor">
<a href="#subsetting-of-the-normalized-test-data" class="anchor"></a>Subsetting of the normalized test data</h3>
<p>The resulting table of normalized variables looks like the following example for a transmitter-operated mouse with 12 measured variables. Sometimes, not all of them are needed in the RELSA calculation (bw, bwc and clinical score are strongly correlated so that just bwc is used; further, mouse grimace scale 30 min and 180 lack baseline values and show missing data on the following days, so they will be skipped here as well).</p>
<table class="table">
<thead><tr class="header">
<th align="right">day</th>
<th align="right">bw</th>
<th align="right">bwc</th>
<th align="right">score</th>
<th align="right">mgs</th>
<th align="right">mgs30</th>
<th align="right">mgs180</th>
<th align="right">bur2h</th>
<th align="right">burON</th>
<th align="right">hr</th>
<th align="right">hrv</th>
<th align="right">temp</th>
<th align="right">act</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-1</td>
<td align="right">18.4</td>
<td align="right">100.00</td>
<td align="right">0</td>
<td align="right">100.00</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
<td align="right">100.00</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">16.1</td>
<td align="right">87.50</td>
<td align="right">2</td>
<td align="right">112.50</td>
<td align="right">0.86</td>
<td align="right">0.36</td>
<td align="right">26.46</td>
<td align="right">62.12</td>
<td align="right">145.65</td>
<td align="right">16.50</td>
<td align="right">98.83</td>
<td align="right">11.79</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">16.7</td>
<td align="right">90.76</td>
<td align="right">2</td>
<td align="right">193.75</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">90.56</td>
<td align="right">135.72</td>
<td align="right">128.96</td>
<td align="right">38.96</td>
<td align="right">102.42</td>
<td align="right">38.25</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">17.1</td>
<td align="right">92.93</td>
<td align="right">2</td>
<td align="right">165.62</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">74.97</td>
<td align="right">137.62</td>
<td align="right">118.63</td>
<td align="right">54.44</td>
<td align="right">101.44</td>
<td align="right">33.02</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">17.3</td>
<td align="right">94.02</td>
<td align="right">1</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">106.30</td>
<td align="right">56.89</td>
<td align="right">100.27</td>
<td align="right">26.88</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">17.3</td>
<td align="right">94.02</td>
<td align="right">1</td>
<td align="right">65.62</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">97.36</td>
<td align="right">96.13</td>
<td align="right">115.87</td>
<td align="right">57.39</td>
<td align="right">101.29</td>
<td align="right">36.37</td>
</tr>
</tbody>
</table>
</div>
<div id="calculation-of-differences" class="section level3">
<h3 class="hasAnchor">
<a href="#calculation-of-differences" class="anchor"></a>Calculation of differences</h3>
<p>In the next step, differences to baseline values are calculated. As the baseline is 100 % in both “directions” (increasing and decreasing values), the approach is rather straight forward:</p>
<ul>
<li><p>for decreasing values<br>
delta = 100 - subdata[-1]</p></li>
<li><p>for increasing values<br>
delta = 100 - subdata[-1]<br>
delta[,turnvars] = delta[, turnvars]* -1</p></li>
</ul>
<p>With [-1] the daily baseline values at day=-1 are not recognized in the calculation.</p>
<p>Also - after this step - all differences &lt;0 are set to 0 so that there are no negative values. A negative value indicates a full recovery. Negative values play no role in the RELSA calculation so that they are eliminated. Zeros also point to non-missing but recovered data. This difference is important since missing values will not contribute to mathematical calculations such as the mean. This would skew the results and give weight to variables that are not present in the data.</p>
<p>An example for a cleaned difference matrix (D) is shown in the following example (in which the following variables were dropped: c(“bw”,“score”,“mgs30”,“mgs180” ) and turned: c(“hr”, “mgs”,“temp” ). Missing data are indicated as NAs.</p>
<table class="table">
<thead><tr class="header">
<th align="right">bwc</th>
<th align="right">mgs</th>
<th align="right">bur2h</th>
<th align="right">burON</th>
<th align="right">hr</th>
<th align="right">hrv</th>
<th align="right">temp</th>
<th align="right">act</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="right">12.50</td>
<td align="right">12.50</td>
<td align="right">73.54</td>
<td align="right">37.88</td>
<td align="right">45.65</td>
<td align="right">83.50</td>
<td align="right">0.00</td>
<td align="right">88.21</td>
</tr>
<tr class="odd">
<td align="right">9.24</td>
<td align="right">93.75</td>
<td align="right">9.44</td>
<td align="right">0.00</td>
<td align="right">28.96</td>
<td align="right">61.04</td>
<td align="right">2.42</td>
<td align="right">61.75</td>
</tr>
<tr class="even">
<td align="right">7.07</td>
<td align="right">65.62</td>
<td align="right">25.03</td>
<td align="right">0.00</td>
<td align="right">18.63</td>
<td align="right">45.56</td>
<td align="right">1.44</td>
<td align="right">66.98</td>
</tr>
<tr class="odd">
<td align="right">5.98</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">6.30</td>
<td align="right">43.11</td>
<td align="right">0.27</td>
<td align="right">73.12</td>
</tr>
<tr class="even">
<td align="right">5.98</td>
<td align="right">0.00</td>
<td align="right">2.64</td>
<td align="right">3.87</td>
<td align="right">15.87</td>
<td align="right">42.61</td>
<td align="right">1.29</td>
<td align="right">63.63</td>
</tr>
</tbody>
</table>
</div>
<div id="calculation-of-the-relsa-score" class="section level3">
<h3 class="hasAnchor">
<a href="#calculation-of-the-relsa-score" class="anchor"></a>Calculation of the RELSA score</h3>
<p>The baseline model is required for context. The values in the baseline model show the extrema for each variable in the current model. As such, they are the maximum (or minimum) reached values coding for some virtually known or prospective severity. Every test animal with its unique values and variables will be compared to these baseline values arithmetically to yield a RELSA weight factor (Rw), which is also an effect size - regularized to the maximum deviation of the reference set.</p>
<p><span class="math display">\[Rw=\frac{|100-i|}{|100-max_i,ref)|}\]</span> For example, if the lowest reached body weight change (bwc) value in an animal of the training data is, e.g. 15 % and the actual loss in a test animal is 11 % , Rw results to Rw=(100-89)/(100-85) = 0.73. In other words, the actual mouse reached 73 % of the maximum bwc deviation of the baseline data. Since context is relevant here, this also means that the animal also experiences 73 % of the maximum reached severity of the baseline model. This is repeated for each day and available variable.</p>
<p>Following the example above, the resulting RELSA weights (Rw) are represented in the following matrix:</p>
<table class="table">
<thead><tr class="header">
<th align="right">bwc</th>
<th align="right">mgs</th>
<th align="right">bur2h</th>
<th align="right">burON</th>
<th align="right">hr</th>
<th align="right">hrv</th>
<th align="right">temp</th>
<th align="right">act</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="right">0.81</td>
<td align="right">0.04</td>
<td align="right">0.74</td>
<td align="right">0.38</td>
<td align="right">0.85</td>
<td align="right">0.91</td>
<td align="right">0.00</td>
<td align="right">0.92</td>
</tr>
<tr class="odd">
<td align="right">0.60</td>
<td align="right">0.31</td>
<td align="right">0.09</td>
<td align="right">0.00</td>
<td align="right">0.54</td>
<td align="right">0.66</td>
<td align="right">0.55</td>
<td align="right">0.65</td>
</tr>
<tr class="even">
<td align="right">0.46</td>
<td align="right">0.21</td>
<td align="right">0.25</td>
<td align="right">0.00</td>
<td align="right">0.35</td>
<td align="right">0.50</td>
<td align="right">0.33</td>
<td align="right">0.70</td>
</tr>
<tr class="odd">
<td align="right">0.39</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.12</td>
<td align="right">0.47</td>
<td align="right">0.06</td>
<td align="right">0.76</td>
</tr>
<tr class="even">
<td align="right">0.39</td>
<td align="right">0.00</td>
<td align="right">0.03</td>
<td align="right">0.04</td>
<td align="right">0.30</td>
<td align="right">0.46</td>
<td align="right">0.29</td>
<td align="right">0.67</td>
</tr>
</tbody>
</table>
<p>The weights are showing the <em>magnitude of variable deviation</em>. They generalize the mean differences in each animal that are further regularized by the extrema of the reference model. Calculating the mean for these values will not reflect the actual situation in terms of severity. Because we are looking for the extrema indicating potential severity, magnitude matters. In statistics, this is traditionally solved by squaring numbers. Therefore, we deem the root mean square of the combined weight factors as a reasonable choice for the final RELSA score calculation - giving larger deltas (weights or effects) more weight.</p>
<p><span class="math display">\[RELSA(t)=\sqrt{\frac{1}{n}\sum_{i=1}^n (R_w)_i^2}\]</span></p>
<table class="table">
<thead><tr class="header">
<th align="right">day</th>
<th align="right">RELSA</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-1</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="right">0.68</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">0.49</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">0.40</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">0.44</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">0.35</td>
</tr>
</tbody>
</table>
</div>
<div id="use-case-comparison-of-sham-vs-transmitter-implanted-mice" class="section level3">
<h3 class="hasAnchor">
<a href="#use-case-comparison-of-sham-vs-transmitter-implanted-mice" class="anchor"></a>Use-case: Comparison of sham vs transmitter implanted mice</h3>
<p>In the end, comparisons between, e.g. sham and transmitter-operated animals are possible. In the following example, seven variables are used in the calculation of the respective RELSA scores (time points are days here). Day=-1 is the baseline physiological state and day=0 is a post-operational state with the expected maximum severity.</p>
<p>It can clearly be seen that the relative severity of the transmitter implantation is larger than in the sham-operated animal. However, the course of both lines is rather similar, indicating that experimental procedures are very well reflected in each of the two cases and differences can be attributed to differences in severity.</p>
<p>Further, cluster levels show that the sham-operated animal recovers faster. Here, the slope of the RELSA curve is much steeper than in the transmitter-operated animal and values decrease much faster back to physiological levels (the sham animal recovers at around day 2 compared to day 8 in the transmitter-operated animal).</p>
<p><img src="relsa_score_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Steven Talbot.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
